helmDefaults:
  tillerNamespace: kube-system
  tillerless: true
  install: true

helmRepos:
  bitnami: https://charts.bitnami.com/bitnami
  mosip: https://mosip.github.io/mosip-helm
  wiremind: https://wiremind.github.io/wiremind-helm-charts
  kafka-ui: https://provectus.github.io/kafka-ui-charts

namespaces:
  postgres:
    protected: false
  keycloak:
    protected: false
  softhsm:
    protected: false
  minio:
    protected: false
  clamav:
    protected: false
  activemq:
    protected: false
  kafka:
    protected: false
  s3:
    protected: false
  msg-gateways:
    protected: false
  captcha:
    protected: false

apps:

  istio-addons-psql:
    namespace: postgres
    enabled: true
    version: 0.1.0
    chart: ../utils/istio-addons/postgres-istio-addons-0.1.0.tgz
    set:
      postgresHost: "172.31.3.128"
    wait: true
    priority: -4

  postgres-init:
    namespace: postgres
    enabled: true
    version: 0.0.1-develop
    chart: mosip/postgres-init
    wait: true
    valuesFile: https://raw.githubusercontent.com/Mohanraj209/mosip-infra/refs/heads/dev/deployment/v3/external/postgres/init_values.yaml
    priority: -13

  istio-addons-iam:
    namespace: keycloak
    enabled: true
    version: 0.1.0
    chart: ../utils/istio-addons/iam-istio-addons-0.1.0.tgz
    set:
      keycloakExternalHost: "iam.dev.mosip.net"
      keycloakInternalHost: "keycloak.keycloak"
      service: "keycloak"
    wait: true
    priority: -3

  istio-addons-minio:
    namespace: minio
    enabled: true
    version: 1.2.0
    chart: ../utils/istio-addons/minio-istio-addons-1.2.0.tgz
    set:
      externalHost: "minio.dev.mosip.net"
    wait: true
    hooks:
      postInstall: "../hooks/s3-setup.sh minio"
    priority: -2

  istio-addons-kafka:
    namespace: kafka
    enabled: true
    version: 1.2.0
    chart: ../utils/istio-addons/kafka-istio-addons-1.2.0.tgz
    set:
      kafkaUiHost: "kafka.dev.mosip.net"
      installName: "kafka-ui"
    wait: true
    hooks:
      postInstall: "../hooks/msg-gateways-setup.sh"
    priority: -1
    
